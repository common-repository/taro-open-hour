/*! For license information please see edit-helper.js.LICENSE.txt */
jQuery(document).ready((function(t){"use strict";var e=t("#tsoh-time-table");t("#timeadd").click((function(e){e.preventDefault();var r=t("#tsoh-time-start").val(),o=t("#tsoh-time-end").val(),a="";r.match(/^[0-9]{2}:[0-9]{2}$/)||(a+=TsOpenHour.startError+"\n"),o.match(/^[0-9]{2}:[0-9]{2}$/)||(a+=TsOpenHour.endError+"\n"),parseInt(r.replace(":",""),10)>=parseInt(o.replace(":",""),10)&&(a+=TsOpenHour.pastStartError),""===a?n(r,o):window.alert(a)})),t("#timeadd-default").click((function(r){r.preventDefault(),e.find("tbody tr").length>0?window.alert(TsOpenHour.notEmpty):t.each(TsOpenHour.defaultTime,(function(t,e){n(e[0],e[1])}))}));var n=function(n,o){var a=e.find("tbody tr").length,i="<tr>";i+='<th scope="row"><input name="tsoh_open_hour[]" type="text" value="'+n+"-"+o+'" /></th>';for(var d=0;d<7;d++)i+='<td><select name="tsoh_date_'+d+'[]">',i+='<option value=""',d>=5&&(i+=' selected="selected"'),i+=">-</option>",i+='<option value="0"',-1<TsOpenHour.defaultDays.indexOf(d)&&(i+=' selected="selected"'),i+=">&#x2713;</option>",i+="</select></td>";i+='<td><a class="delete-time-shift" href="#">'+TsOpenHour.deleteBtn+"</a></td>",i+="</tr>",a<1?(e.find("tbody").append(i),e.find("tbody tr:first").effect("highlight",{},1e3)):e.find("tbody tr").each((function(r,o){var d=t(o).find("th input").val().replace(/-[0-9]{2}:[0-9]{2}$/,"");return parseInt(n.replace(":",""),10)<parseInt(d.replace(":",""),10)?(t(o).before(i),e.find("tbody tr:eq("+r+")").effect("highlight",{},1e3),!1):a-1===r?(t(o).after(i),e.find("tbody tr:eq("+(r+1)+")").effect("highlight",{},1e3),!1):void 0})),r()};e.on("click","tbody tr a",(function(e){e.preventDefault(),window.confirm(TsOpenHour.deleteConfirm)&&t(this).parent("td").parent("tr").hide("highlight",{},1e3,(function(){t(this).remove(),r()}))}));var r=function(){t("#tsoh-time-table tbody tr").each((function(e,n){var r=0==(e+1)%2?"alt":"odd";t(n).removeClass("alt").removeClass("odd").addClass(r),t(n).find("th input").attr("name","tsoh_open_hour["+e+"]"),t(n).find("input[type=checkbox]").each((function(n,r){t(r).attr("name","tsoh_date_"+n+"["+e+"]")}))}))}}));